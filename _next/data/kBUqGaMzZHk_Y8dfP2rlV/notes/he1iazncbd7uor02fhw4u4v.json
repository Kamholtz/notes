{"pageProps":{"note":{"id":"he1iazncbd7uor02fhw4u4v","title":"Quirks","desc":"","updated":1646550333750,"created":1646539785729,"custom":{},"fname":"ee.ha.zha.quirks","type":"note","vault":{"fsPath":"vault"},"contentHash":"e5393913c79a54be619f77a3fc7e6423","links":[{"from":{"fname":"proj.zb-home-automation.on-off-switch","vaultName":"vault"},"type":"backlink","position":{"start":{"line":42,"column":7,"offset":1463},"end":{"line":42,"column":27,"offset":1483},"indent":[]},"value":"ee.ha.zha.quirks","alias":"ee.ha.zha.quirks"},{"from":{"fname":"proj.zb-home-automation.on-off-switch","vaultName":"vault"},"type":"backlink","position":{"start":{"line":44,"column":7,"offset":1571},"end":{"line":44,"column":81,"offset":1645},"indent":[]},"value":"ee.ha.zha.quirks","alias":"device_automation_triggers"}],"anchors":{"example-of-tradfri-5-button-remote-quirk":{"type":"header","text":"Example of Tradfri 5 Button Remote Quirk","value":"example-of-tradfri-5-button-remote-quirk","line":14,"column":0,"depth":2},"device_automation_triggers":{"type":"header","text":"device_automation_triggers","value":"device_automation_triggers","line":18,"column":0,"depth":3}},"children":[],"parent":"d5HL9VYkKY8H1Wi6BrAE4","data":{}},"body":"<h1 id=\"quirks\"><a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#quirks\"></a>Quirks</h1>\n<p>Components of a quirk</p>\n<ul>\n<li>Signature - To identify and apply the correct quirk</li>\n<li>Replacement - To allow Zigpy and ZHA to correctly work with the device</li>\n<li>device_automation_triggers - To let the Home Assistant Device Automation engine and users interact with the device</li>\n</ul>\n<h2 id=\"example-of-tradfri-5-button-remote-quirk\"><a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#example-of-tradfri-5-button-remote-quirk\"></a>Example of Tradfri 5 Button Remote Quirk</h2>\n<p><a href=\"https://github.com/zigpy/zha-device-handlers/blob/dev/zhaquirks/ikea/fivebtnremotezha.py\">zha-device-handlers/fivebtnremotezha.py at dev Â· zigpy/zha-device-handlers</a></p>\n<h3 id=\"device_automation_triggers\"><a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#device_automation_triggers\"></a>device_automation_triggers</h3>\n<pre class=\"language-python\"><code class=\"language-python\"> device_automation_triggers <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token punctuation\">(</span>SHORT_PRESS<span class=\"token punctuation\">,</span> TURN_ON<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\"># Indicates the text the user will see in the triggers UI</span>\n            <span class=\"token comment\"># Uniquely match the event</span>\n            COMMAND<span class=\"token punctuation\">:</span> COMMAND_TOGGLE<span class=\"token punctuation\">,</span> <span class=\"token comment\"># Command ID for the specific cluster</span>\n            CLUSTER_ID<span class=\"token punctuation\">:</span> <span class=\"token number\">6</span><span class=\"token punctuation\">,</span> <span class=\"token comment\"># On off cluster ID</span>\n            ENDPOINT_ID<span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token comment\"># Arbitrary endpoint ID - this limits the flexibility of creating custom zigbee devices without also generating a custom quirk for each endpoint</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">(</span>LONG_PRESS<span class=\"token punctuation\">,</span> TURN_ON<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n            COMMAND<span class=\"token punctuation\">:</span> COMMAND_RELEASE<span class=\"token punctuation\">,</span> <span class=\"token comment\"># Not sure which command this is, the scenes cluster doesn't specify a command named \"release\"</span>\n            CLUSTER_ID<span class=\"token punctuation\">:</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span> <span class=\"token comment\"># scenes</span>\n            ENDPOINT_ID<span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n            ARGS<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">(</span>SHORT_PRESS<span class=\"token punctuation\">,</span> DIM_UP<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n            COMMAND<span class=\"token punctuation\">:</span> COMMAND_STEP_ON_OFF<span class=\"token punctuation\">,</span>\n            CLUSTER_ID<span class=\"token punctuation\">:</span> <span class=\"token number\">8</span><span class=\"token punctuation\">,</span>\n            ENDPOINT_ID<span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n            ARGS<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">43</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token comment\"># Argument for the command</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">(</span>LONG_PRESS<span class=\"token punctuation\">,</span> DIM_UP<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n            COMMAND<span class=\"token punctuation\">:</span> COMMAND_MOVE_ON_OFF<span class=\"token punctuation\">,</span>\n            CLUSTER_ID<span class=\"token punctuation\">:</span> <span class=\"token number\">8</span><span class=\"token punctuation\">,</span>\n            ENDPOINT_ID<span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n            ARGS<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">83</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">(</span>SHORT_PRESS<span class=\"token punctuation\">,</span> DIM_DOWN<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n            COMMAND<span class=\"token punctuation\">:</span> COMMAND_STEP<span class=\"token punctuation\">,</span>\n            CLUSTER_ID<span class=\"token punctuation\">:</span> <span class=\"token number\">8</span><span class=\"token punctuation\">,</span>\n            ENDPOINT_ID<span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n            ARGS<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">43</span><span class=\"token punctuation\">,</span> <span class=\"token number\">5</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">(</span>LONG_PRESS<span class=\"token punctuation\">,</span> DIM_DOWN<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n            COMMAND<span class=\"token punctuation\">:</span> COMMAND_MOVE<span class=\"token punctuation\">,</span>\n            CLUSTER_ID<span class=\"token punctuation\">:</span> <span class=\"token number\">8</span><span class=\"token punctuation\">,</span>\n            ENDPOINT_ID<span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n            ARGS<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">83</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">(</span>SHORT_PRESS<span class=\"token punctuation\">,</span> LEFT<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n            COMMAND<span class=\"token punctuation\">:</span> COMMAND_PRESS<span class=\"token punctuation\">,</span>\n            CLUSTER_ID<span class=\"token punctuation\">:</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span>\n            ENDPOINT_ID<span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n            ARGS<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token number\">257</span><span class=\"token punctuation\">,</span> <span class=\"token number\">13</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">(</span>LONG_PRESS<span class=\"token punctuation\">,</span> LEFT<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n            COMMAND<span class=\"token punctuation\">:</span> COMMAND_HOLD<span class=\"token punctuation\">,</span>\n            CLUSTER_ID<span class=\"token punctuation\">:</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span>\n            ENDPOINT_ID<span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n            ARGS<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token number\">3329</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">(</span>SHORT_PRESS<span class=\"token punctuation\">,</span> RIGHT<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n            COMMAND<span class=\"token punctuation\">:</span> COMMAND_PRESS<span class=\"token punctuation\">,</span>\n            CLUSTER_ID<span class=\"token punctuation\">:</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span>\n            ENDPOINT_ID<span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n            ARGS<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token number\">256</span><span class=\"token punctuation\">,</span> <span class=\"token number\">13</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">(</span>LONG_PRESS<span class=\"token punctuation\">,</span> RIGHT<span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n            COMMAND<span class=\"token punctuation\">:</span> COMMAND_HOLD<span class=\"token punctuation\">,</span>\n            CLUSTER_ID<span class=\"token punctuation\">:</span> <span class=\"token number\">5</span><span class=\"token punctuation\">,</span>\n            ENDPOINT_ID<span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n            ARGS<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token number\">3328</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span>\n</code></pre>\n<hr>\n<strong>Backlinks</strong>\n<ul>\n<li><a href=\"/notes/notes/oBfzI1lAvoh15EkLluGjY\">On off Switch</a></li>\n</ul>","noteIndex":{"id":"wn8PE1RhG0znK1alrGFYv","title":"Welcome","desc":"","updated":1647739693733,"created":1631901573363,"custom":{"nav_order":0,"permalink":"/"},"fname":"root","type":"note","vault":{"fsPath":"vault"},"contentHash":"25f6a870234e6662373e3b363ac6e7ff","links":[],"anchors":{},"children":["9nbHM9DXYJiw0wOL5EHqu","49nbdlbyhuggwhb17c4ckrc","etnjoq40t5e9gp3i9i0ebg4","SEWMNyq5ejB4Uu2o5gD1F","30970790-4080-4f49-a9e6-d3ea9f8a2f5e","oGtULAvsKCL7IqVaNh9x5","kxlbgahdm89suj3rh234zd2","haa2RJrh1FmtvgDrCgMuO","sHUgvR09969GI1KByYETE","6y2lfHzDgTsk4Jrl7vL24","D6TMhnzbxXgM6H69SHyDd","9itq04txzxzb62nmstlovti","4nqbPU2WajRDXAXqSDnwo","5acd228c-faa2-4c6c-8fed-6abd55a1e819","2pquOIrwpkRIflevQW2UU","fe3d08bb-d6f0-4d4b-9a4d-3eae285c8f70","phaz4bx38xr32daxmt0npt5","b0k4g697aehphlpejqdd6hm","jriu7nrk5w8o38yu17adio4","g7ydg6006fa1pyg4364yi0q"],"parent":null,"data":{},"body":"\nThese are my public notes!\n\n> This website is generated by a Dendron template. For more information, see the [template README file](https://github.com/dendronhq/template.publish.github-action/).\n\n"},"collectionChildren":null,"customHeadContent":null,"config":{"version":5,"dev":{"enablePreviewV2":true},"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":false,"leaveTrace":false,"bubbleUpCreateNew":true,"fuzzThreshold":0.2,"vaultSelectionModeOnCreate":"smart"}},"insertNote":{"initialValue":"templates"},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"randomNote":{},"copyNoteLink":{},"templateHierarchy":"template"},"workspace":{"vaults":[{"fsPath":"vault"}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"graph":{"zoomSpeed":1,"createStub":false},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":true,"maxPreviewsCached":10,"maxNoteLength":204800,"task":{"name":"","dateFormat":"","addBehavior":"childOfCurrent","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link","taskCompleteStatus":["done","x"]},"enableUserTags":true,"enableHashTags":true,"dendronVersion":"0.86.1","enableEditorDecorations":true,"enableHandlebarTemplates":true,"enableFullHierarchyNoteTitle":false,"enableSmartRefs":false},"preview":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enableMermaid":true,"enablePrettyRefs":true,"enableKatex":true,"automaticallyShowPreview":false,"enableFrontmatterTags":true,"enableHashesForFMTags":false},"publishing":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enableMermaid":true,"enablePrettyRefs":true,"enableKatex":true,"assetsPrefix":"/notes","copyAssets":true,"siteHierarchies":["root"],"enableSiteLastModified":true,"siteRootDir":"docs","siteUrl":"https://kamholtz.github.io","enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableRandomlyColoredTags":true,"duplicateNoteBehavior":{"action":"useVault","payload":["vault"]},"writeStubs":false,"seo":{"title":"whomst'd've","description":"Personal knowledge space"},"github":{"enableEditLink":true,"editLinkText":"Edit this page on GitHub","editBranch":"main","editViewMode":"tree"},"enablePrettyLinks":true,"enableTaskNotes":true,"siteFaviconPath":"favicon.ico","siteIndex":"root"}}},"__N_SSG":true}
{"pageProps":{"note":{"id":"dx3j6zht7bpvmddvvsdji36","title":"V2 0 0","desc":"","updated":1656844207143,"created":1656828716044,"custom":{},"fname":"ee.nrf-connect-sdk.v2-0-0","type":"note","vault":{"fsPath":"vault"},"contentHash":"7be5c6c71a18929246047faa6855cba2","links":[{"from":{"fname":"proj.zb-home-automation","vaultName":"vault"},"type":"backlink","position":{"start":{"line":62,"column":5,"offset":2918},"end":{"line":62,"column":66,"offset":2979},"indent":[]},"value":"ee.nrf-connect-sdk.v2-0-0","alias":"Migration notes"}],"anchors":{"known-issues":{"type":"header","text":"Known Issues","value":"known-issues","line":8,"column":0,"depth":2},"migration-notes":{"type":"header","text":"Migration notes","value":"migration-notes","line":12,"column":0,"depth":2},"problems-encountered":{"type":"header","text":"Problems encountered","value":"problems-encountered","line":23,"column":0,"depth":2},"reboot-occured-when-a-gpio-interrupt-was-fired":{"type":"header","text":"Reboot occured when a GPIO interrupt was fired.","value":"reboot-occured-when-a-gpio-interrupt-was-fired","line":25,"column":0,"depth":3},"missing-zigbee-ha-files":{"type":"header","text":"Missing Zigbee HA files","value":"missing-zigbee-ha-files","line":78,"column":0,"depth":3}},"children":[],"parent":"sa5Ez4NJoJrT8nsc3Oefz","data":{}},"body":"<h1 id=\"v2-0-0\"><a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#v2-0-0\"></a>V2 0 0</h1>\n<h2 id=\"known-issues\"><a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#known-issues\"></a>Known Issues</h2>\n<p><a href=\"https://developer.nordicsemi.com/nRF_Connect_SDK/doc/2.0.0/nrf/known_issues.html\">Known issues — nRF Connect SDK 2.0.0 documentation</a></p>\n<h2 id=\"migration-notes\"><a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#migration-notes\"></a>Migration notes</h2>\n<p><a href=\"https://developer.nordicsemi.com/nRF_Connect_SDK/doc/latest/nrf/migration/migration_guide_1.x_to_2.x.html\">Migration notes for nRF Connect SDK v2.0.0 — nRF Connect SDK 2.0.99 documentation</a></p>\n<p>Required Action:</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input type=\"checkbox\" checked disabled> pwms properties in devicetree nodes must be extended with two more cells (with period and flags) and now they need to specify PWM channels, not pin numbers.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> Calls to the deprecated pwm_pin_set_cycles function must be replaced with calls to the pwm_set_cycles() function.</li>\n<li class=\"task-list-item\"><input type=\"checkbox\" disabled> Calls to the deprecated pwm_pin_set_usec and pwm_pin_set_nsec functions must be replaced with calls to the pwm_set() function with the period and pulse values wrapped in the PWM_USEC macro or the PWM_NSEC macro, respectively.</li>\n</ul>\n<h2 id=\"problems-encountered\"><a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#problems-encountered\"></a>Problems encountered</h2>\n<h3 id=\"reboot-occured-when-a-gpio-interrupt-was-fired\"><a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#reboot-occured-when-a-gpio-interrupt-was-fired\"></a>Reboot occured when a GPIO interrupt was fired.</h3>\n<blockquote>\n<p>I: Unimplemented signal (signal: 54, status: 0)\nI: Joined network successfully on reboot signal (Extended PAN ID: cccccccc9ca8cc84, PAN ID: 0x0c84)\nI: Debounced\nASSERTION FAIL @ WEST_TOPDIR/nrf/lib/dk_buttons_and_leds/dk_buttons_and_leds.c:186\nE: r0/a1:  0x00000004  r1/a2:  0x000000ba  r2/a3:  0x00000000\nE: r3/a4:  0x20009ebd r12/ip:  0x00000000 r14/lr:  0x0000d51d\nE:  xpsr:  0x61000016\nE: s[ 0]:  0x00000000  s[ 1]:  0x00000000  s[ 2]:  0x00000000  s[ 3]:  0x00000000\nE: s[ 4]:  0x00000000  s[ 5]:  0x00000000  s[ 6]:  0x00000000  s[ 7]:  0x00000000\nE: s[ 8]:  0x00000000  s[ 9]:  0x00000000  s[10]:  0x00000000  s[11]:  0x00000000\nE: s[12]:  0x00000000  s[13]:  0x00000000  s[14]:  0x00000000  s[15]:  0x00000000\nE: fpscr:  0x00000000\nE: Faulting instruction address (r15/pc): 0x0004d5fe\nE: >>> ZEPHYR FATAL ERROR 4: Kernel panic on CPU 0\nE: Fault during interrupt handling</p>\n</blockquote>\n<p>Relevant code (<code>ASSERT_NO_MSG</code>)</p>\n<pre class=\"language-c\"><code class=\"language-c\"><span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">button_pressed</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> <span class=\"token keyword\">struct</span> <span class=\"token class-name\">device</span> <span class=\"token operator\">*</span>gpio_dev<span class=\"token punctuation\">,</span> <span class=\"token keyword\">struct</span> <span class=\"token class-name\">gpio_callback</span> <span class=\"token operator\">*</span>cb<span class=\"token punctuation\">,</span>\n\t\t    <span class=\"token class-name\">uint32_t</span> pins<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\n\t<span class=\"token class-name\">k_spinlock_key_t</span> key <span class=\"token operator\">=</span> <span class=\"token function\">k_spin_lock</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&#x26;</span>lock<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\t<span class=\"token comment\">/* Disable GPIO interrupt */</span>\n\t<span class=\"token keyword\">int</span> err <span class=\"token operator\">=</span> <span class=\"token function\">callback_ctrl</span><span class=\"token punctuation\">(</span>false<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\t<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token function\">LOG_ERR</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Cannot disable callbacks\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\n\t<span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>state<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">case</span> STATE_WAITING<span class=\"token operator\">:</span>\n\t\tstate <span class=\"token operator\">=</span> STATE_SCANNING<span class=\"token punctuation\">;</span>\n\t\t<span class=\"token function\">k_work_reschedule</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&#x26;</span>buttons_scan<span class=\"token punctuation\">,</span> <span class=\"token function\">K_MSEC</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n\n\t<span class=\"token keyword\">case</span> STATE_SCANNING<span class=\"token operator\">:</span>\n\t<span class=\"token keyword\">default</span><span class=\"token operator\">:</span>\n\t\t<span class=\"token comment\">/* Invalid state */</span>\n\t\t<span class=\"token function\">__ASSERT_NO_MSG</span><span class=\"token punctuation\">(</span>false<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t\t<span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">}</span>\n\n\t<span class=\"token function\">k_spin_unlock</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&#x26;</span>lock<span class=\"token punctuation\">,</span> key<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n</code></pre>\n<h3 id=\"missing-zigbee-ha-files\"><a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#missing-zigbee-ha-files\"></a>Missing Zigbee HA files</h3>\n<p><a href=\"https://devzone.nordicsemi.com/f/nordic-q-a/88813/zigbee-ha-files-are-missing-in-v2-0-0-zcl8-update\">Zigbee HA files are missing in v2.0.0 ZCL8 update - Nordic Q&#x26;A - Nordic DevZone - Nordic DevZone</a></p>\n<hr>\n<strong>Backlinks</strong>\n<ul>\n<li><a href=\"/notes/notes/vn4QH8axQkezeOvv8cSG5\">ZigBee Home Automation</a></li>\n</ul>","noteIndex":{"id":"wn8PE1RhG0znK1alrGFYv","title":"Welcome","desc":"","updated":1647739693733,"created":1631901573363,"custom":{"nav_order":0,"permalink":"/"},"fname":"root","type":"note","vault":{"fsPath":"vault"},"contentHash":"25f6a870234e6662373e3b363ac6e7ff","links":[],"anchors":{},"children":["9nbHM9DXYJiw0wOL5EHqu","49nbdlbyhuggwhb17c4ckrc","etnjoq40t5e9gp3i9i0ebg4","SEWMNyq5ejB4Uu2o5gD1F","30970790-4080-4f49-a9e6-d3ea9f8a2f5e","oGtULAvsKCL7IqVaNh9x5","kxlbgahdm89suj3rh234zd2","haa2RJrh1FmtvgDrCgMuO","sHUgvR09969GI1KByYETE","6y2lfHzDgTsk4Jrl7vL24","D6TMhnzbxXgM6H69SHyDd","9itq04txzxzb62nmstlovti","4nqbPU2WajRDXAXqSDnwo","5acd228c-faa2-4c6c-8fed-6abd55a1e819","2pquOIrwpkRIflevQW2UU","fe3d08bb-d6f0-4d4b-9a4d-3eae285c8f70","phaz4bx38xr32daxmt0npt5","b0k4g697aehphlpejqdd6hm","jriu7nrk5w8o38yu17adio4","g7ydg6006fa1pyg4364yi0q"],"parent":null,"data":{},"body":"\nThese are my public notes!\n\n> This website is generated by a Dendron template. For more information, see the [template README file](https://github.com/dendronhq/template.publish.github-action/).\n\n"},"collectionChildren":null,"customHeadContent":null,"config":{"version":5,"dev":{"enablePreviewV2":true},"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":false,"leaveTrace":false,"bubbleUpCreateNew":true,"fuzzThreshold":0.2,"vaultSelectionModeOnCreate":"smart"}},"insertNote":{"initialValue":"templates"},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"randomNote":{},"copyNoteLink":{},"templateHierarchy":"template"},"workspace":{"vaults":[{"fsPath":"vault"}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"graph":{"zoomSpeed":1,"createStub":false},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":true,"maxPreviewsCached":10,"maxNoteLength":204800,"task":{"name":"","dateFormat":"","addBehavior":"childOfCurrent","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link","taskCompleteStatus":["done","x"]},"enableUserTags":true,"enableHashTags":true,"dendronVersion":"0.86.1","enableEditorDecorations":true,"enableHandlebarTemplates":true,"enableFullHierarchyNoteTitle":false,"enableSmartRefs":false},"preview":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enableMermaid":true,"enablePrettyRefs":true,"enableKatex":true,"automaticallyShowPreview":false,"enableFrontmatterTags":true,"enableHashesForFMTags":false},"publishing":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enableMermaid":true,"enablePrettyRefs":true,"enableKatex":true,"assetsPrefix":"/notes","copyAssets":true,"siteHierarchies":["root"],"enableSiteLastModified":true,"siteRootDir":"docs","siteUrl":"https://kamholtz.github.io","enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableRandomlyColoredTags":true,"duplicateNoteBehavior":{"action":"useVault","payload":["vault"]},"writeStubs":false,"seo":{"title":"whomst'd've","description":"Personal knowledge space"},"github":{"enableEditLink":true,"editLinkText":"Edit this page on GitHub","editBranch":"main","editViewMode":"tree"},"enablePrettyLinks":true,"enableTaskNotes":true,"siteFaviconPath":"favicon.ico","siteIndex":"root"}}},"__N_SSG":true}